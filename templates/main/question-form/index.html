<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title>Question Form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

      <link rel="stylesheet" href="css/style.css">


</head>

<body>

<div class="container">
  <div class="row header">
    <h1>LET US KNOW YOUR QUESTION &nbsp;</h1>
    <h3>Fill out the form below and send to us!</h3>
  </div>
  <div class="row body">
    <form action="http://localhost/ContactForm/index.php/contact_info" method="post" name="myform" id="myform">   <!--////////////remember to add id tag to this form-->
      <ul>

        <li>
          <p class="left">
            <label for="first_name">first name</label>
            <input type="text" name="first_name" placeholder="John" />
          </p>
          <p class="pull-right">
            <label for="last_name">last name</label>
            <input type="text" name="last_name" placeholder="Smith" />
          </p>
        </li>

        <li>
          <p>
            <label for="email">email <span class="req">*</span></label>
            <input type="email" name="email" placeholder="john.smith@gmail.com" />
          </p>
        </li>
        <li><div class="divider"></div></li>
        <li>
          <label for="questionTitle">Question Title <span class="req">*</span></label>
          <input type="text" name="question" placeholder="How to xxxx?" />
        </li>
        <li>
          <label for="content">Question content</label>
          <textarea cols="46" rows="3" name="description"></textarea>
        </li>

        <li>
          <input class="btn btn-submit" type="submit" value="Submit" />

        </li>

      </ul>
    </form>
  </div>
</div>


<!--************************script to send form data in JSON format**********************-->
<script>

 var form = document.getElementById("myform");
  document.getElementById("myform").onsubmit = function(e){
      // stop the regular form submission
      e.preventDefault();

      // collect the form data while iterating over the inputs
      var data = {};
      for (var i = 0, ii = form.length; i < ii; ++i) {
        var input = form[i];
        if (input.name) {
          data[input.name] = input.value;
        }
      }

      // construct an HTTP request
      var xhr = new XMLHttpRequest();
      xhr.open(form.method, form.action, true);
      xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');

      // send the collected data as JSON
      xhr.send(JSON.stringify(data));

      xhr.onloadend = function () {
        // done
      };
      alert("The form was submitted");
      console.log(JSON.stringify(data));
  };
</script>
<!--****************************end of script to send form data in JSON format*************************-->

</body>
</html>
